(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function h(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=h(t);fetch(t.href,n)}})();const ue=document.querySelector("body");document.querySelector("#dev");const U=document.querySelector("#gunname"),V=document.querySelector("#hadmg"),W=document.querySelector("#hasim"),X=document.querySelector("#lowdmg"),Y=document.querySelector("#lowsim"),Z=document.querySelector("#fullagg"),_=document.querySelector("#fulldef"),se=document.querySelector("#specials"),ee=document.querySelector("#mindmg"),te=document.querySelector("#maxdmg"),ne=document.querySelector("#critdmg"),re=document.querySelector("#attacktime"),le=document.querySelector("#rectime"),ce=document.querySelector("#mbs"),me=document.querySelector("#burstcycle"),D=document.querySelector("#fling"),O=document.querySelector("#pastebtn"),$=document.querySelector("#pastetext"),de=document.querySelector("#ar"),fe=document.querySelector("#inits"),ge=document.querySelector("#damage"),he=document.querySelector("#crit"),ye=document.querySelector("#flingchar"),be=document.querySelector("#burst"),pe=document.querySelector("#calcbtn"),Me=document.querySelectorAll(".toggleclick");var E,ae,s,m,d,r,l,N,f,w,a,g,u,k,x;ue.addEventListener("click",qe);function qe(e){switch(e.target){case O:ve($.value);break;case $:$.value&&($.value=null),O.innerHTML="▲";break;case pe:Le();break;default:for(let c of Me)e.target==c&&Se(e.target.htmlFor?document.querySelector(`#${e.target.htmlFor}`):e.target)}}function Se(e){e.innerHTML=e.innerHTML=="yes"?"no":"yes"}function ve(e){let c=e.match(/^.*/g),h=Number(e.match(new RegExp("(?<=Quality level: )[\\d]+","g"))),o=e.match(new RegExp("(?<=Damage: )[\\d]+","g")),t=e.match(new RegExp("(?<=Damage: \\d+-)[\\d]+","g")),n=e.match(new RegExp("(?<=Damage: \\d+-\\d+\\()[\\d]+","g")),i=e.match(new RegExp("(?<=Attack )[\\d.]+","g")),y=e.match(new RegExp("(?<=Recharge )[\\d.]+","g")),b=e.match(new RegExp("(?<=Max beneficial skill: )[\\d]+","g"));e.match(/Special:.*FlingShot/g)&&(D.innerHTML="yes"),c&&o&&t&&n&&i&&y&&b?(E=c,ae=h,ee.value=o,te.value=t,ne.value=n,re.value=i,le.value=y,ce.value=b,O.innerHTML="✓"):O.innerHTML="☹"}function Le(){s=Number(ee.value),m=Number(te.value),d=Number(ne.value),r=Number(re.value),l=Number(le.value),N=Number(ce.value),f=Number(me.value),w=Number(de.value),a=Number(fe.value),g=Number(ge.value),u=Number(he.value),k=Number(ye.value),x=Number(be.value),E?U.innerHTML=`${E} ql${ae}`:U.innerHTML="▚▚▚▚▚▚▚▚";let e=(N+3375)/1250,c=s*e,h=m*e,o=e*(s+d),t=e*(m+d),n=600*(r+1.75-1),i=300*(l+1.75-1),y=600*(r-.25-1),b=300*(l-.25-1),ie=y>b?y:b,oe=n>i?n:i;s&&m&&d?(V.innerHTML=`${Math.round(c)} (${Math.round(o)})`,X.innerHTML=`${Math.round(h)} (${Math.round(t)})`):(V.innerHTML="▚▚▚▚▚",X.innerHTML="▚▚▚▚▚"),r&&l?(Z.innerHTML=`${Math.ceil(ie)}`,_.innerHTML=`${Math.ceil(oe)}`):(Z.innerHTML="▚▚",_.innerHTML="▚▚");let p="",q,I;D.innerHTML=="yes"&&r&&(q=r+6,I=300*(5*r-2),p+=`<span class="resultlabel"><label>fling shot: </label>${q}s @ ${Math.ceil(I)}</span>`);let S,K;f>0&&(S=r+8,K=-25*r+500*l+f/4-200,p+=`<span class="resultlabel"><label>burst: </label>${S}s @ ${Math.ceil(K)}</span>`),p==""&&(p='<span class="resultlabel">▚▚▚▚▚▚▚▚</span>'),se.innerHTML=p;let M,v,Q,F,R,L,j,z,B,C,P,A,G,H,J,T;w>=0&&u>=0&&a&&g>=0?(M=(N<w?N:w+3375)/1250,v=s*M+g,Q=m*M+g,F=M*(s+d)+g,R=M*(m+d)+g,u=u>100?100:u,L=v*(1-u)+F*u,j=1>r+1.75-a/600?1:r+1.75-a/600,z=1>l+1.75-a/300?1:l+1.75-a/300,B=1>r-.25-a/600?1:r-.25-a/600,C=1>l-.25-a/300?1:l-.25-a/300,k>0&&D.innerHTML=="yes"?(G=q<r*16-k/100?r*16-k/100:q,H=L/G):H=0,x>0&&f>0?(J=S<l*20+f/100-x/25?l*20+f/100-x/25:S,T=v*3/J):T=0,P=L/(B+C)+T+H,A=L/(j+z)+T+H,W.innerHTML=`//dmg: ${Math.round(v)} (${Math.round(F)}),  dps: ${Math.floor(A)} agg - ${Math.floor(P)} def`,Y.innerHTML=`//dmg: ${Math.round(Q)} (${Math.round(R)}),  dps: ${Math.floor(A)} agg - ${Math.floor(P)} def`):(W.innerHTML="▚▚▚▚▚▚▚▚▚▚",Y.innerHTML="▚▚▚▚▚▚▚▚▚▚")}
